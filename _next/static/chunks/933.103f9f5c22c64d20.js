(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[933],{9155:function(e,t,n){"use strict";n.r(t);var r=n(2322),a=n(2784),l=n(1763),i=n.n(l),s=n(477),p=n(2876),u=n(2288),c=n(3027),o=n(6270),d=n.n(o);t.default=function(){let{replace:e}=(0,p.useRouter)(),t=(0,a.useRef)(null),{templateUuids:n,templatesDataWithUuid:l}=(0,c.y)();(0,a.useEffect)(()=>{0===n.length&&e("/?")},[n,e]);let o=()=>{let e=t.current;e&&i()(e).then(e=>{let t=e.toDataURL("image/png"),n=new s.ZP("p","mm","a4",!0),r=n.internal.pageSize.getWidth(),a=n.internal.pageSize.getHeight(),l=e.width,i=e.height,p=Math.min(r/l,a/i);n.addImage(t,"PNG",(r-l*p)/2,30,l*p,i*p),n.save("page.pdf")})};return 0===n.length?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:t,className:d().root,children:n.map(e=>{let t=l[e],n=u._2[t.id].Template;return(0,r.jsx)(n,{...t.props},e)})}),(0,r.jsx)("div",{className:d().btnWrapper,children:(0,r.jsx)("button",{type:"button",onClick:o,className:d().btn,children:(0,r.jsx)("span",{className:d().text,children:"download"})})})]})}},3027:function(e,t,n){"use strict";n.d(t,{y:function(){return l}});var r=n(2784),a=n(6978);let l=()=>{let e=(0,r.useContext)(a.L);if(!e)throw Error("Please provide Template");return e}},6270:function(e){e.exports={btnWrapper:"TemplatePreview_btnWrapper__OeB31",btn:"TemplatePreview_btn__7ER_4",text:"TemplatePreview_text__lUCRT"}}}]);